<!DOCTYPE html>
<html>
<head>
<meta charset='uft-8'>
<title>work</title>
<script type="text/javascript" language="javascript">
	var endDate=new Date(2021, 03, 01, 0, 0, 0);//年月日时分秒，月要减去1   04-01
	var startDate=new Date(2018, 07, 10, 0, 0, 0);//年月日时分秒，月要减去1   08-10
	function countDown()
	{
		var now=new Date();
		var oft=Math.round((endDate-now)/1000);
		var ofd=parseInt(oft/3600/24);
		var ofh=parseInt((oft%(3600*24))/3600);
		var diff_hour = ofh;
		var ofm=parseInt((oft%3600)/60);
		var ofs=oft%60;
		if (ofh < 10)
			ofh = '0' + ofh.toString();
		if (ofm < 10)
			ofm = '0' + ofm.toString();
		if (ofs < 10)
			ofs = '0' + ofs.toString();
		document.getElementById('timer').innerHTML=' ' + ofd + 'd ' + ofh + ':' + ofm + ':' + ofs ;
		document.getElementById('timer_hour').innerHTML=' ' + (ofd * 24 + diff_hour) + ' hour';
		document.getElementById('timer_second').innerHTML=' ' + oft + '';
		if(ofs<0) {
			document.getElementById('timer').innerHTML='倒计时结束!';
		};

		var diff = Math.round((now - startDate) / 1000);
		var diff_d = parseInt(diff / 3600 / 24);
		var diff_h = parseInt((diff % (3600*24)) / 3600);
		var diff_m = parseInt((diff % 3600) / 60);
		var diff_s = diff % 60;
		if (diff_h < 10)
			diff_h = '0' + diff_h;
		if (diff_m < 10)
			diff_m = '0' + diff_m;
		if (diff_s < 10)
			diff_s = '0' + diff_s;
		document.getElementById('time_len').innerHTML='has ' + diff_d + '天 ' + diff_h + ':' + diff_m + ':' + diff_s;

		var mh = 32400 / (ofd * 24 + diff_hour);
		var md = 32400 / (ofd * 24 + diff_hour) * 24;
		var mm = 32400 / (oft / 60);
		document.getElementById('per_hour').innerHTML = mm.toFixed(5) + " " + mh.toFixed(3) + " " + md.toFixed(3);

		var date = new Date(); //日期对象 
		var now = ""; 
		var now_month = date.getMonth() + 1;
		var now_day = date.getDate();
		var now_hour = date.getHours();
		var now_min = date.getMinutes();
		var now_second = date.getSeconds();
		if (now_month < 10)
			now_month = "0" + now_month; //取月的时候取的是当前月-1如果想取当前月+1就可以了 
		if (now_day < 10)
			now_day = '0' + now_day;
		if (now_hour < 10)
			now_hour = '0' + now_hour;
		if (now_min < 10)
			now_min = '0' + now_min;
		if (now_second < 10)
			now_second = '0' + now_second;
		document.getElementById("time_now").innerHTML = date.getFullYear() + "-" + now_month + "-" + now_day + " " + now_hour + ":" + now_min + ":" + now_second;
		
		setTimeout('countDown()',1000);
	};
</script>
<style type="text/css">
	#timer {
		color: red; 
		display: flex; 
		justify-content: center;
		font-weight:800;
		font-size:128px;
	}
	#timer_hour, #timer_second, #per_hour, #time_now{
		font-size:24px;
	}
	#time_len{
		color: blue;
		font-size:24px;
	}
	body {
		margin: 10%;
	}
</style>
</head>

<body onload = "countDown()">
<div id="timer"></div>
<div id="time_len"></div>
<div id="timer_hour"></div>
<div id="timer_second"></div>
<div id="per_hour"></div>
<div id="time_now"></div>
</body>
</html>
